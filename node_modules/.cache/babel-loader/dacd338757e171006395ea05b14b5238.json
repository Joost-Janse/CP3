{"ast":null,"code":"import _classCallCheck from\"/usr/share/caddy/dnd_spell_lookup/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/usr/share/caddy/dnd_spell_lookup/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/usr/share/caddy/dnd_spell_lookup/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/usr/share/caddy/dnd_spell_lookup/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/usr/share/caddy/dnd_spell_lookup/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import'./App.css';import React from'react';// \"https://www.dnd5eapi.co/api/spells/\"\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Spell=/*#__PURE__*/function(_React$Component){_inherits(Spell,_React$Component);var _super=_createSuper(Spell);function Spell(props){var _this;_classCallCheck(this,Spell);_this=_super.call(this,props);_this.getSpells();_this.state={count:\"\",results:[],desc:\"\"};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(Spell,[{key:\"getSpells\",value:function getSpells(){var _this2=this;var url=\"https://www.dnd5eapi.co/api/spells/\";fetch(url).then(function(data){return data.json();}).then(function(spelllist){_this2.state.count=spelllist.count;_this2.state.results=spelllist.results;console.log(_this2.state);});}},{key:\"handleChange\",value:function handleChange(event){var _this3=this;var lookupSpell=\"\";var spellName=document.getElementById(\"searchBox\").value;for(var i=0;i<this.state.count;++i){if(spellName.toLowerCase()===this.state.results[i].name.toLowerCase()){lookupSpell=this.state.results[i];break;}}console.log(lookupSpell);var url=\"https://www.dnd5eapi.co/api/spells/\"+lookupSpell.index;fetch(url).then(function(data){return data.json();}).then(function(spelllist){_this3.setState({desc:spelllist.desc},function(){console.log(_this3.state);});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{class:\"name\",children:\"D&D SPELL LOOKUP\"}),/*#__PURE__*/_jsx(\"input\",{id:\"searchBox\",type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",onClick:this.handleChange,value:\"Submit\"}),/*#__PURE__*/_jsx(\"div\",{class:\"page\",children:/*#__PURE__*/_jsx(\"div\",{class:\"words\",children:this.state.desc})})]});}}]);return Spell;}(React.Component);export default function App(){return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(Spell,{})});}","map":{"version":3,"names":["React","Spell","props","getSpells","state","count","results","desc","handleChange","bind","url","fetch","then","data","json","spelllist","console","log","event","lookupSpell","spellName","document","getElementById","value","i","toLowerCase","name","index","setState","Component","App"],"sources":["/usr/share/caddy/dnd_spell_lookup/src/App.js"],"sourcesContent":["\nimport './App.css';\nimport React from 'react'\n\n// \"https://www.dnd5eapi.co/api/spells/\"\n\nclass Spell extends React.Component {\n  constructor(props) {\n        super(props);\n        this.getSpells();\n        this.state = {\n          count: \"\",\n          results: [],\n          desc: \"\"\n        };\n        \n        this.handleChange = this.handleChange.bind(this);\n       \n      }\n      \n      getSpells() {\n        var url = \"https://www.dnd5eapi.co/api/spells/\";\n        fetch(url)\n          .then((data) => {\n            return (data.json());\n          })\n          .then((spelllist) => {\n            this.state.count = spelllist.count;\n            this.state.results = spelllist.results;\n            console.log(this.state);\n          });\n      }\n      \n      handleChange(event) {\n        var lookupSpell = \"\";\n        var spellName = document.getElementById(\"searchBox\").value;\n        for (var i = 0; i < this.state.count; ++i) {\n          if (spellName.toLowerCase() === this.state.results[i].name.toLowerCase()) {\n            lookupSpell = this.state.results[i];\n            break;\n          }\n        }\n        console.log(lookupSpell);\n        var url = \"https://www.dnd5eapi.co/api/spells/\" + lookupSpell.index;\n        fetch(url)\n          .then((data) => {\n            return (data.json());\n          })\n          .then((spelllist) => {\n            this.setState(\n              {desc: spelllist.desc}, \n              () => {console.log(this.state);},\n              );\n          });\n        \n      }\n      \n      render() {\n        return(\n          <>\n            <h1 class=\"name\">D&D SPELL LOOKUP</h1>\n            <input id=\"searchBox\" type=\"text\"/>\n            <input type=\"submit\" onClick={this.handleChange} value=\"Submit\" />\n            <div class=\"page\">\n              <div class=\"words\">{this.state.desc}</div>\n            </div>\n          </>\n        );\n      }\n}\n\nexport default function App() {\n  return (\n        <div className=\"App\">\n            <Spell/>\n        </div>\n    );\n}"],"mappings":"mlBACA,MAAO,WAAW,CAClB,MAAOA,MAAK,KAAM,OAAO,CAEzB;AAAA,gJAEMC,MAAK,0GACT,eAAYC,KAAK,CAAE,uCACb,uBAAMA,KAAK,EACX,MAAKC,SAAS,EAAE,CAChB,MAAKC,KAAK,CAAG,CACXC,KAAK,CAAE,EAAE,CACTC,OAAO,CAAE,EAAE,CACXC,IAAI,CAAE,EACR,CAAC,CAED,MAAKC,YAAY,CAAG,MAAKA,YAAY,CAACC,IAAI,+BAAM,CAAC,aAEnD,CAAC,2CAED,oBAAY,iBACV,GAAIC,IAAG,CAAG,qCAAqC,CAC/CC,KAAK,CAACD,GAAG,CAAC,CACPE,IAAI,CAAC,SAACC,IAAI,CAAK,CACd,MAAQA,KAAI,CAACC,IAAI,EAAE,CACrB,CAAC,CAAC,CACDF,IAAI,CAAC,SAACG,SAAS,CAAK,CACnB,MAAI,CAACX,KAAK,CAACC,KAAK,CAAGU,SAAS,CAACV,KAAK,CAClC,MAAI,CAACD,KAAK,CAACE,OAAO,CAAGS,SAAS,CAACT,OAAO,CACtCU,OAAO,CAACC,GAAG,CAAC,MAAI,CAACb,KAAK,CAAC,CACzB,CAAC,CAAC,CACN,CAAC,4BAED,sBAAac,KAAK,CAAE,iBAClB,GAAIC,YAAW,CAAG,EAAE,CACpB,GAAIC,UAAS,CAAGC,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAACC,KAAK,CAC1D,IAAK,GAAIC,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAG,IAAI,CAACpB,KAAK,CAACC,KAAK,CAAE,EAAEmB,CAAC,CAAE,CACzC,GAAIJ,SAAS,CAACK,WAAW,EAAE,GAAK,IAAI,CAACrB,KAAK,CAACE,OAAO,CAACkB,CAAC,CAAC,CAACE,IAAI,CAACD,WAAW,EAAE,CAAE,CACxEN,WAAW,CAAG,IAAI,CAACf,KAAK,CAACE,OAAO,CAACkB,CAAC,CAAC,CACnC,MACF,CACF,CACAR,OAAO,CAACC,GAAG,CAACE,WAAW,CAAC,CACxB,GAAIT,IAAG,CAAG,qCAAqC,CAAGS,WAAW,CAACQ,KAAK,CACnEhB,KAAK,CAACD,GAAG,CAAC,CACPE,IAAI,CAAC,SAACC,IAAI,CAAK,CACd,MAAQA,KAAI,CAACC,IAAI,EAAE,CACrB,CAAC,CAAC,CACDF,IAAI,CAAC,SAACG,SAAS,CAAK,CACnB,MAAI,CAACa,QAAQ,CACX,CAACrB,IAAI,CAAEQ,SAAS,CAACR,IAAI,CAAC,CACtB,UAAM,CAACS,OAAO,CAACC,GAAG,CAAC,MAAI,CAACb,KAAK,CAAC,CAAC,CAAC,CAC/B,CACL,CAAC,CAAC,CAEN,CAAC,sBAED,iBAAS,CACP,mBACE,wCACE,WAAI,KAAK,CAAC,MAAM,8BAAsB,cACtC,cAAO,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,cACnC,cAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAE,IAAI,CAACI,YAAa,CAAC,KAAK,CAAC,QAAQ,EAAG,cAClE,YAAK,KAAK,CAAC,MAAM,uBACf,YAAK,KAAK,CAAC,OAAO,UAAE,IAAI,CAACJ,KAAK,CAACG,IAAI,EAAO,EACtC,GACL,CAEP,CAAC,mBA9DaP,KAAK,CAAC6B,SAAS,EAiEnC,cAAe,SAASC,IAAG,EAAG,CAC5B,mBACM,YAAK,SAAS,CAAC,KAAK,uBAChB,KAAC,KAAK,IAAE,EACN,CAEd"},"metadata":{},"sourceType":"module"}